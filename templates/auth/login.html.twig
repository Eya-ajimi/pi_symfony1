{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block content %}
<main class="main-content mt-0">
  <div class="page-header align-items-start min-vh-100" style="background-image: url('https://images.unsplash.com/photo-1497294815431-9365093b7331?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1950&q=80');">
    <span class="mask bg-gradient-dark opacity-6"></span>
    <div class="container my-auto">
      <div class="row">
        <div class="col-lg-4 col-md-8 col-12 mx-auto">
          <div class="card z-index-0 fadeIn3 fadeInBottom">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
              <div class="bg-gradient-dark shadow-dark border-radius-lg py-3 pe-1">
                <h4 class="text-white font-weight-bolder text-center mt-2 mb-0">Connexion</h4>
              </div>
            </div>
            <div class="card-body">
              {% for flash_error in app.flashes('error') %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                  <span class="alert-text">{{ flash_error }}</span>
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              {% endfor %}

              {{ form_start(loginForm, {
                'attr': {
                  'class': 'text-start',
                  'novalidate': 'novalidate'
                }
              }) }}
<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                {# Champ Email #}
                <div class="input-group input-group-outline my-3">
                  {{ form_widget(loginForm.email, {
                    'attr': {
                      'class': 'form-control',
                      'autocomplete': 'email',
                      'placeholder': 'votre@email.com'
                    }
                  }) }}
                  {{ form_label(loginForm.email, 'Email', {'label_attr': {'class': 'form-label'}}) }}
                </div>

                {# Champ Mot de passe #}
                <div class="input-group input-group-outline mb-3">
                  {{ form_widget(loginForm.mot_de_passe, {
                    'attr': {
                      'class': 'form-control',
                      'autocomplete': 'current-password',
                      'placeholder': '••••••••'
                    }
                  }) }}
                  {{ form_label(loginForm.mot_de_passe, 'Mot de passe', {'label_attr': {'class': 'form-label'}}) }}
                </div>

                {# Bouton de soumission #}
                <div class="text-center">
                  <button type="submit" class="btn bg-gradient-dark w-100 my-4 mb-2">
                    Se connecter
                  </button>
                </div>

                {# Liens utiles #}
                <div class="text-center mb-3">
                  <a href="" 
                     class="text-sm text-primary text-gradient font-weight-bold">
                    Mot de passe oublié ?
                  </a>
                </div>

                <p class="mt-4 text-sm text-center">
                  Vous n'avez pas de compte ?
                  <a href="" 
                     class="text-primary text-gradient font-weight-bold">
                    Créer un compte
                  </a>
                </p>

              {{ form_end(loginForm) }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}